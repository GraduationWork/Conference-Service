--postgresql
CREATE DATABASE conferencedb;
CREATE USER conferencedb_user WITH password '0';
GRANT ALL privileges ON DATABASE conferencedb TO conferencedb_user;

CREATE TABLE USERS (
	USERNAME VARCHAR(255) NOT NULL,
	PASSWORD VARCHAR(255) NOT NULL,
	IS_ACTIVE boolean NOT NULL DEFAULT false,
	CREATED TIMESTAMP NOT NULL default NOW(),
	UPDATED TIMESTAMP NOT NULL default NOW(),
	PRIMARY KEY(USERNAME)
);

CREATE TABLE SPEAKERS (
	ID VARCHAR(255) NOT NULL,
	NAME VARCHAR(255) NOT NULL,
	TITLE VARCHAR(255) NOT NULL,
	PHOTO_URL VARCHAR(2082),
	CREATED TIMESTAMP NOT NULL default NOW(),
	UPDATED TIMESTAMP NOT NULL default NOW(),
	PRIMARY KEY(ID)
);

CREATE TABLE PLACES (
	ID VARCHAR(255) NOT NULL,
	COUNTRY_NAME VARCHAR(255),
	ADMINISTRATIVE_AREA_NAME VARCHAR(255),
	LOCALITY_NAME VARCHAR(255),
	THOROUGHFARE_NAME VARCHAR(255),
	PREMISE_NUMBER VARCHAR(255),
	QUERY VARCHAR(255) NOT NULL,
	INFO VARCHAR(255) NOT NULL,
	POSITION_X REAL NOT NULL,
	POSITION_Y REAL NOT NULL,
	CREATED TIMESTAMP NOT NULL default NOW(),
	UPDATED TIMESTAMP NOT NULL default NOW(),
	PRIMARY KEY(ID)
);


CREATE TABLE CONFERENCES (
	ID VARCHAR(255) NOT NULL,
	TITLE VARCHAR(255) NOT NULL,
	START_TIME TIMESTAMP NOT NULL,
	END_TIME TIMESTAMP NOT NULL,
	PLACE_ID VARCHAR(255) NOT NULL references PLACES(ID),
	PLACE_DETAILS VARCHAR(255),
	LOGO_URL VARCHAR(2082) NOT NULL,
	VIDEO_ID VARCHAR(255) NOT NULL,
	CREATED TIMESTAMP NOT NULL default NOW(),
	UPDATED TIMESTAMP NOT NULL default NOW(),
	PRIMARY KEY(ID)
);

CREATE TABLE CONFERENCE_SPEAKERS (
	CONFERENCE_ID VARCHAR(255) NOT NULL references CONFERENCES(ID),
	SPEAKER_ID VARCHAR(255) NOT NULL references SPEAKERS(ID),
	PRIMARY KEY(CONFERENCE_ID,SPEAKER_ID)
);


CREATE TABLE REGISTERED (

);